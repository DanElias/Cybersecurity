<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        {% load static %}
        <link href="{% static 'tailwind.css'%}" rel="stylesheet">
        <link href="{% static 'custom.css'%}" rel="stylesheet">
        <script type="text/javascript" src="https://unpkg.com/webcam-easy/dist/webcam-easy.min.js"></script>
        <title> Protech </title>
    </head>
    <body>
        <div class="bg-purple-100 min-h-screen flex flex-col">
            <div class="container max-w-sm mx-auto flex-1 flex flex-col items-center justify-center">
                <img src="{% static 'logo.png'%}" width="250px">
            </div>
            <div class="container max-w-sm mx-auto flex-1 flex flex-col items-center justify-center px-2">
                <div class="bg-white px-6 py-5 rounded shadow-lg font-semibold text-black w-full rounded-lg">
                    <h1 class="mb-6 text-3xl text-center text-gray-600">Sign up</h1>
                    <form action="{% url 'register' %}" method="post">
                        {% csrf_token %}
                        <input 
                            type="text"
                            class="block border border-grey-light w-full p-3 rounded mb-4"
                            name="username"
                            id="username"
                            placeholder="Username"
                        />

                        <div id="errors_email" class="text-red-300 text-xs"></div>
                        <input 
                            type="text"
                            class="block border border-grey-light w-full p-3 rounded mb-4"
                            name="email"
                            id="email"
                            placeholder="Email"
                        />

                        
                        <div id="errors_password" class="text-red-300 text-xs"></div>
                        <input 
                            type="password"
                            class="block border border-grey-light w-full p-3 rounded mb-4"
                            name="password"
                            id="password"
                            placeholder="Password"
                        />

                        <input 
                            type="password"
                            class="block border border-grey-light w-full p-3 rounded mb-4"
                            name="confirm_password"
                            id="confirm_password"
                            placeholder="Confirm Password"
                        />

                        <div id="errors_picture" class="text-red-300 text-xs"></div>
                        <span>*Take a photo to authenticate yourself: </span>
                        <video id="webcam" autoplay playsinline width="640" height="480"></video>
                        <canvas id="canvas"></canvas>
                        <button
                            id="capture"
                            type="button"
                            onclick="snap()"
                            class="w-full text-center py-1 rounded bg-indigo-500 text-white hover:bg-indigo-800 focus:outline-none my-1"
                        >
                            Take photo
                        </button>
                        <button
                            id="retake"
                            type="button"
                            onclick="start()"
                            class="w-full text-center py-1 rounded bg-indigo-500 text-white hover:bg-indigo-800 focus:outline-none my-1"
                        >
                            Retake photo
                        </button>
                        <br>
                        <hr>
                        <br>
                        <button
                            type="button"
                            onclick="sendDataRegister()"
                            class="w-full text-center py-3 rounded bg-indigo-600 text-white hover:bg-indigo-800 focus:outline-none my-1"
                        >
                            Create Account
                        </button>
                    </form>
                    <div class="flex-1 flex flex-col text-gray-600 mt-1 text-center">
                        Already have an account?  &nbsp;
                        <a class="underline text-blue-600" href="{% url 'login_page' %}">
                             Sign in
                        </a>
                    </div>
                </div>                
            </div>
        </div>
    <script type="text/javascript" src="{% static 'webcam.js'%}"></script>
    <script type="text/javascript" src="{% static 'register.js'%}"></script>
    </body>
</html>